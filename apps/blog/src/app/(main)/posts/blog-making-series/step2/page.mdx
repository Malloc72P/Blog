## 사용할 기술 스택 정하기

어떤 기술을 사용해야 제일 좋을지 고민하기 시작했다. 일단 앱을 개발할 때 사용할 프레임워크와, 그렇게 개발한 앱을 어디에 배포할 지에 대해 고민하게 되었다.
우선해서 고민한 문제는 역시 비용이었다.  
블로그를 서비스하려면 서버나 데이터베이스가 필요할 텐데, 가능하면 비용을 최소화하고 싶었다.  
AWS는 첫 1년 동안은 free tier라서 낮은 컴퓨팅 성능의 서비스는 비용이 발생하지 않지만, 그 후 부터는 비용이 발생한다.  
앞으로 계속 블로그를 운영하고 싶었기에, 다른 방법을 찾아야 한다.

## Vercel은 매우 합리적인 Hobby플랜을 제공한다.

AWS 대신 Vercel을 사용하기로 결정했다. vercel의 무료 플랜인 Hobby 플랜을 간단하게 소개하면...

[💎 Vercel Hobby Plan 요약](https://vercel.com/docs/plans/hobby)

- 월 최대 100GB 대역폭 제공
- 서버리스 펑션 실행시간 월 100GB/Hour
- 이미지 최적화 소스 이미지 수: 월 1,000개
- 빌드 실행시간: 월 6,000분
- 런타임 로그 보관기간: 1시간
- 상업적 사용 제한: 비상업적, 개인용 프로젝트에서만 사용 가능.

개인 블로그이기 때문에, 한달동안 100GB정도의 대역폭이면 충분하기에 vercel을 선택하게 되었다.
또한, vercel은 github 프로젝트와 연동해서 아주 쉽게 서비스를 배포할 수 있다는 점도 매력적이었다.

## 포스트 저장에 대한 고민

블로그 서비스에서 제일 어려울 수 있다고 생각한 부분은 포스트를 어떻게 저장할 지에 대한 문제였다.
당장 포스트를 작성할 때 사용할 편집기가 필요했다. 편집기야 TipTap과 같은 유명한 에디터 라이브러리를 사용하면 그나마 쉽게 구현할 수 있지만, 이걸 저장하는것도 문제다.
만약 DB에 저장한다고 생각하면 Prisma나 TypeORM과 같은 라이브러리로 DB 접근 로직을 구현해야한다.  
블로그 서비스는 생각보다 볼륨이 큰 프로젝트였던 것이다.  
어떻게 할 지 고민하던 중, Next.js와 mdx가 눈에 들어왔다. Next.js는 mdx 문서를 파싱해서 페이지를 랜더링할 수 있다.
그렇다면, 포스트는 VS Code에서 마크다운으로 작성하고, 이걸 Next.js를 통해 웹페이지로 서비스하면 되지 않을까 라는 아이디어였다.

## Next.js와 MDX로 블로그 개발

Next.js는 mdx파일을 파싱해서 페이지를 렌더링할 수 있다. 이 점을 활용하면 아래와 같이 포스트 기능을 구현할 수 있다.

- mdx 문서로 포스트 작성
- 마크다운에 익숙하다면 VS Code에서 포스트를 마크다운으로 작성

또한 Next.js는 SSG 기능을 제공한다.SSG란 Server-Static-Generation의 약자로, 서버에서 정적 페이지를 생성하는 기능을 말한다.
Next.js를 빌드할 때 페이지를 미리 생성해서 정적 HTML로 변환하는 기능인데, 이 기능을 사용하면 사용자가 페이지를 요청할 때 마다
서버에서 페이지를 랜더링하는 것이 아닌, 이미 생성된 정적 HTML을 응답하므로, 응답속도가 빠르고 SEO 최적화가 용이하다.
그런 이유로, 블로그는 Next.js를 사용해서 구현하기로 했다.

## Nextra 도입

한편, Next.js 진영에는 SSG를 활용해서 mdx 문서를 빌드 시점에 정적 페이지로 변환하는 프레임워크가 있다.
그건 바로 [`Nextra`](https://nextra.site/)이다. 거기다가 Nextra는 UI 컴포넌트와 테마도 제공하기에, 아주 쉽게 블로그나 기술문서 사이트를 제작할 수 있다.  
다만 내 경우엔 학습 목적으로 UI 컴포넌트를 처음부터 직접 만들고 싶었기에, 이 기능은 사용하지 않았다.
하지만 Nextra를 사용함으로서, 아래와 같은 기능을 이용할 수 있었다.

- MDX 문서를 페이지로 정적 빌드
- mdx를 파싱해서 컴포넌트로 변환
- 특정 디렉토리 밑의 모든 mdx 문서 정보를 반환하는 API
- 포스트 메타데이터를 위한 MDX Frontmatter 파싱

이 정도면 큰 문제없이 블로그를 구현할 수 있겠다는 생각이 들었다.
한편, 포스트를 묶을 시리즈나 태그를 Nextra로 어떻게 구현할지가 새로운 문제로 다가왔다.
DB에서 가져오는 데이터라면 구현하면 되는 문제이지만, DB없이 구현하기로 했으므로,
시리즈나 태그 정보는 MDX 문서의 Frontmatter를 통해서만 구현해야 하는 상황이다.

다음 포스트에서는 Nextra의 API를 통해 블로그 포스트의 태그와 시리즈 기능을 어떻게 설계했는지에 대해 다루려고 합니다.  
긴 글 읽어주셔서 감사합니다.

export const metadata = {
  title: '블로그 만들기 시리즈 Part 2: 기술 스택 정하기',
  series: 'blog-making-series',
  tags: ['Vercel', 'NextJS', 'Nextra', 'SSG'],
  date: '2025-04-11 17:13',
};
