## 구현

![구현하면서 사용한 기술에 대해 소개합니다](../../../../../../../../images/cd0565ac24ab81eb258561a11427a37dcf49e46e7023ca782667115e3f5e8ea9.png)

개인 블로그를 구현하면서 사용한 기술에 대해 여러분과 공유하려고 합니다.  
이 포스트에서 소개하려고 하는 기술은 아래와 같습니다

- Next.js의 Route Group
- Tailwind

## Route Group

![Next.js의 Route를 묶어주기만 하는 Route Group!](../../../../../../../../images/51fcff73f9bb0c6461eb9f0fb472e1975e7a657e894a61c2fa6b0b307253e0ca.png)

- Route Group은 Route를 묶기만 하고 Route 경로에는 영향을 주지 않는 기술입니다.
- [공식 문서 링크](https://nextjs.org/docs/app/building-your-application/routing/route-groups)

**언제 사용하나요?**

- url 경로상 서로 다른 경로 밑에 있지만 같은 레이아웃을 적용해야 하는 경우에 유용합니다.
- 제 경우를 예로 들어 설명해드리겠습니다.

제 블로그의 라우트 경로는 아래와 같습니다.

- `/posts/시리즈 이름/포스트 제목`
- `/tags/태그 이름`

두 라우트 경로에 대해서 같은 레이아웃을 적용하고 싶었습니다.  
같은 헤더와 푸터, 그리고 페이지를 감싸는 컨테이너 요소를 레이아웃에 주어, 일치감을 주려는 의도입니다.

그런데 `posts`와 `tags`는 루트(/) 바로 밑의 라우트라서, 같은 레이아웃을 적용하려면 루트 레이아웃을 수정해야 합니다.  
하지만 앞으로의 확장성을 고려할 때, 루트 레이아웃은 적합하지 않다는 생각이 들었습니다.

예를 들면, `About Me` 페이지를 만든다고 가정하겠습니다.  
이 경우 다른 헤더를 사용할 수 있고, 페이지를 감싸는 컨테이너 요소도 다른 것을 사용할 수 있습니다.  
그래서 루트 레이아웃에서 헤더와 푸터 레이아웃을 잡기보다, `posts`와 `tags`에만 영향을 주는 레이아웃을 적용하려는 상황입니다.

이 때, `posts와` `tags의` 공통된 라우트를 주어 해결할 수 있습니다.  
`/main/posts`, `/main/tags` 이렇게 적용하고, main 폴더에 `layout.tsx`를 만들어서, 두 라우트에만 적용되는 레이아웃을 만들 수 있습니다.  
하지만 main과 같이 억지로 만든 경로를 url에 주고 싶지 않다면 어떻게 해야 할까요?  
여기서 라우트 그룹을 사용할 수 있습니다.

폴더 이름을 괄호로 감싸면, 라우트 그룹으로 취급됩니다.  
이러면 라우트 경로에는 영향을 주지 않지만, 해당 폴더 안의 라우트에만 레이아웃을 적용할 수 있게 됩니다.

```
/(main) --> route 경로에는 영향을 주지 않는다
    /posts
    /tags
    /layout.tsx
/aboutme
    /page.mdx
/layout.tsx
```

위와 같이 구성하면, 라우트 경로에는 영향을 주지 않지만, 하위 라우트에 대해 공통된 레이아웃을 적용할 수 있습니다.

## Tailwind

![Tailwind](../../../../../../../../images/2ee671e04b2f295ccac06ca805ca5f3043a0743d48b0fe51e5fb41adb331c5cb.png)

이전 포스트에서 다룬 것 처럼, 이 블로그는 디자인할 때 Tailwind의 Spacing(xm, sm, ...)과 색상을 사용해서 디자인했습니다.
또한 Tailwind는 아래와 같은 장점이 있어서 사용하게 되었습니다.

- 반복되는 CSS 작성 대신, 간단한 클래스 조합으로 즉시 스타일 적용이 가능합니다.
- JIT 컴파일: 사용한 클래스만 CSS로 생성하여 빌드 속도 및 번들 크기를 최적화합니다.
- 글자 크기, 여백, 색상 등 미리 정의된 클래스 조합으로 스타일링할 수 있습니다.
- tailwind.config.js를 통해 간편한 커스터마이징이 가능합니다.

개인적으로 tsx 파일에서 태그 구조도 정의하고 스타일링까지 하는게 매우 편리했습니다.  
또한 컴포넌트 상태를 통해 Tailwind 클래스를 토글하여, 상태에 따라 스타일을 제어하는것도 매우 간편합니다.

아래는 Tailwind를 사용한 코드입니다.

```tsx
<span
  className={classNames(
    'rounded-md flex items-center justify-center bg-[#eee] text-gray-500 font-bold',
    'transition-all duration-200 ease-in-out',
    'px-[8px] py-[6px]',
    'md:px-[12px]',
    color === 'primary' ? '' : 'opacity-50',
    'hover:opacity-100',
  )}
>
  <Link href={href} className="text-[10px] md:text-[16px]" onClick={onBadgeClick}>
    {children}
  </Link>
</span>
```

tailwind로 스타일링하면 className의 값이 너무 길어지는데, 이는 classNames 유틸함수로 보기 편하게 바꿀 수 있습니다.  
저는 같은 유형의 클래스를 묶고 줄바꿈하여 작성합니다.  
또한 앞서 말씀드린 것 처럼 컴포넌트의 상태에 따라 다른 클래스를 적용하는 방법도 매우 간편합니다.

참고로 classNames 유틸함수는 이 [npm 모듈](https://www.npmjs.com/package/classnames)을 사용합니다

## tailwind를 css 파일에서 사용하기

- 반대로, css에서도 tailwind를 사용할 수 있습니다.
- `@apply` 지시자를 활용하면 됩니다

```css
a {
  display: inline-flex;
  align-items: center;
  transition: 0.3s;
  @apply text-blue-600;
}
```

`@apply`가 뭐지? 하시는 분도 있을 것 같습니다.  
이건 비 표준 CSS 구문으로, 빌드 과정에서 PostCSS 플러그인이 해석 치환하도록 하는 특별한 지시문 입니다.

Postcss는 빌드 과정에서 CSS 추상 트리를 탐색하고 등록된 Postcss 플러그인이 순서대로 css를 처리합니다.
이 때 `@apply`를 만나면 Tailwind가 등록한 플러그인이 실행되어, 미리 정의해놓은 Tailwind의 css로 치환됩니다.

## 정리하면...

- Next.js의 Route Group을 사용하면 url 경로에 영향을 주지 않고도 라우트를 묶어서 공통 레이아웃을 적용할 수 있습니다.
- tailwind와 같은 유틸리티 퍼스트 방식의 CSS 프레임워크를 사용하여, 미리 정의된 클래스 조합으로 빠르게 스타일을 줄 수 있습니다.

긴 글 읽어주셔서 감사합니다!

### 레퍼런스

- [route-group](https://nextjs.org/docs/app/building-your-application/routing/route-groups)
- [tailwind css basic for beginners](https://daily.dev/blog/tailwind-css-basics-for-beginners)
- [Using with preprocessors](https://v3.tailwindcss.com/docs/using-with-preprocessors)

export const metadata = {
  title: 'Nextjs로 블로그 만들기 시리즈 Part 3. 구현',
  description:
    '개인 블로그를 구현하면서 사용한 기술에 대해 소개합니다. route group, layout, Tailwind에 대해 다룹니다.',
  series: 'blog-making-series',
  tags: ['Next.js', 'Nextra', 'Vercel'],
  date: '2025-03-07 21:20',
};
